

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MultiScale Modeling &mdash; MOOSE ChamCham (3.1.1) documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="MOOSE ChamCham (3.1.1) documentation" href="../../../index.html"/>
        <link rel="up" title="Cook Book" href="index_ckbk.html"/>
        <link rel="next" title="Graphics" href="../graphics/index_graphics.html"/>
        <link rel="prev" title="Networking" href="network.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> MOOSE
          

          
            
            <img src="../../../_static/moose_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install/index_install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index_qs.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index_ckbk.html">Cook Book</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="elec.html">Single Neuron Electrical Aspects (BioPhysics)</a></li>
<li class="toctree-l2"><a class="reference internal" href="chem.html">Chemical Aspects</a></li>
<li class="toctree-l2"><a class="reference internal" href="network.html">Networking</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MultiScale Modeling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#load-and-run-simple-models">Load and Run simple models</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simple-examples">Simple Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-multiscaleOneCompt">Single-compartment multiscale model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-multiComptSigNeur">Multi compartment Single Neuron Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multi-compartment-multiscale-model">Multi-compartment multiscale model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-gssaRDspiny">Modeling chemical reactions in neurons</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gui">GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rdesigneur">RDesigneur</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-chemical-electrical-signalling-models-using-rdesigneur">Building Chemical-Electrical Signalling Models using Rdesigneur</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tutorials">Tutorials</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-examples">Advanced Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../graphics/index_graphics.html">Graphics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changes/index.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues/index.html">Known issues</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">MOOSE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index_ckbk.html">Cook Book</a> &raquo;</li>
      
    <li>MultiScale Modeling</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/user/py/cookbook/multiscale.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="multiscale-modeling">
<h1>MultiScale Modeling<a class="headerlink" href="#multiscale-modeling" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#load-and-run-simple-models" id="id1">Load and Run simple models</a></li>
<li><a class="reference internal" href="#simple-examples" id="id2">Simple Examples</a></li>
<li><a class="reference internal" href="#gui" id="id3">GUI</a></li>
<li><a class="reference internal" href="#rdesigneur" id="id4">RDesigneur</a></li>
<li><a class="reference internal" href="#tutorials" id="id5">Tutorials</a></li>
<li><a class="reference internal" href="#advanced-examples" id="id6">Advanced Examples</a></li>
</ul>
</div>
<div class="section" id="load-and-run-simple-models">
<span id="ckbk-multi-load-run"></span><h2><a class="toc-backref" href="#id1">Load and Run simple models</a><a class="headerlink" href="#load-and-run-simple-models" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="simple-examples">
<span id="ckbk-multi-snippets"></span><h2><a class="toc-backref" href="#id2">Simple Examples</a><a class="headerlink" href="#simple-examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-multiscaleOneCompt">
<span id="single-compartment-multiscale-model"></span><h3>Single-compartment multiscale model<a class="headerlink" href="#module-multiscaleOneCompt" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="multiscaleOneCompt.main">
<code class="descclassname">multiscaleOneCompt.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#multiscaleOneCompt.main" title="Permalink to this definition">¶</a></dt>
<dd><p>This example builds a simple multiscale model involving
electrical and chemical signaling, but without spatial dimensions.
The electrical cell model is in a single compartment and has
voltage-gated channels, including a voltage-gated Ca channel for
Ca influx, and a K_A channel which is regulated by the chemical
pathways.</p>
<p>The chemical model has calcium activating Calmodulin which activates
CaM-Kinase II. The kinase phosphorylates the K_A channel to inactivate
it.</p>
<p>The net effect of the multiscale activity is a positive feedback
loop where activity increases Ca, which activates the kinase,
which reduces K_A, leading to increased excitability of the cell.</p>
<p>In this example this results
in a bistable neuron. In the resting state the cell does not fire,
but if it is activated by a current pulse the cell will continue to
fire even after the current is turned off. Application of an
inhibitory current restores the cell to its silent state.</p>
<p>Both the electrical and chemical models are loaded in from model
description files, and these files could be replaced if one wished
to define different models. However, there
are model-specific Adaptor objects needed to map activity between the
models of the two kinds. The Adaptors connect specific model entities
between the two models. Here one Adaptor connects the electrical
Ca_conc object to the chemical Ca pool. The other Adaptor connects
the chemical pool representing the K_A channel to its conductance
term in the electrical model.</p>
</dd></dl>

</div>
<div class="section" id="module-multiComptSigNeur">
<span id="multi-compartment-single-neuron-model"></span><h3>Multi compartment Single Neuron Model<a class="headerlink" href="#module-multiComptSigNeur" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="multiComptSigNeur.createSpine">
<code class="descclassname">multiComptSigNeur.</code><code class="descname">createSpine</code><span class="sig-paren">(</span><em>parentCompt</em>, <em>parentObj</em>, <em>index</em>, <em>frac</em>, <em>length</em>, <em>dia</em>, <em>theta</em><span class="sig-paren">)</span><a class="headerlink" href="#multiComptSigNeur.createSpine" title="Permalink to this definition">¶</a></dt>
<dd><p>Create spine of specified dimensions and index</p>
</dd></dl>

<dl class="function">
<dt id="multiComptSigNeur.createSquid">
<code class="descclassname">multiComptSigNeur.</code><code class="descname">createSquid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#multiComptSigNeur.createSquid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a single compartment squid model.</p>
</dd></dl>

<dl class="function">
<dt id="multiComptSigNeur.main">
<code class="descclassname">multiComptSigNeur.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#multiComptSigNeur.main" title="Permalink to this definition">¶</a></dt>
<dd><p>A toy compartmental neuronal + chemical model. The neuronal model is in
a dendrite and five dendritic spines. The chemical model is in three
compartments: one for the dendrite,
one for the spine head, and one for the postsynaptic density. However,
the spatial geometry of the neuronal model is ignored and the chemical
model just has three cubic volumes for each compartment. So there
is a functional mapping but spatial considerations are lost.
The electrical model contributes the incoming calcium flux to the
chemical model. This comes from the synaptic channels.
The signalling here does two things to the electrical model. First, the
amount of receptor in the chemical model controls the amount of glutamate
receptor in the PSD. Second, there is a small kinase reaction that
phosphorylates and inactivates the dendritic potassium channel.</p>
</dd></dl>

</div>
<div class="section" id="multi-compartment-multiscale-model">
<h3>Multi-compartment multiscale model<a class="headerlink" href="#multi-compartment-multiscale-model" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="module-gssaRDspiny">
<span id="modeling-chemical-reactions-in-neurons"></span><h3>Modeling chemical reactions in neurons<a class="headerlink" href="#module-gssaRDspiny" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="gssaRDspiny.main">
<code class="descclassname">gssaRDspiny.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gssaRDspiny.main" title="Permalink to this definition">¶</a></dt>
<dd><p>This example illustrates how to define a kinetic model embedded in
the branching pseudo-1-dimensional geometry of a neuron. The model
oscillates in space and time due to a Turing-like reaction-diffusion
mechanism present in all compartments. For the sake of this demo,
the initial conditions are set up slightly different on the PSD
compartments, so as to break the symmetry and initiate oscillations
in the spines.
This example uses an external electrical model file with basal
dendrite and three branches on
the apical dendrite. One of those branches has a dozen or so spines.
In this example we build an identical model in each compartment, using
the makeChemModel function. One could readily define a system with
distinct reactions in each compartment.
The model is set up to run using the Ksolve for integration and the
Dsolve for handling diffusion.
The display has four parts:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>animated line plot of concentration against main compartment#.</li>
<li>animated line plot of concentration against spine compartment#.</li>
<li>animated line plot of concentration against psd compartment#.</li>
<li>time-series plot that appears after the simulation has
ended. The plot is for the last (rightmost) compartment.</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="gssaRDspiny.makeChemModel">
<code class="descclassname">gssaRDspiny.</code><code class="descname">makeChemModel</code><span class="sig-paren">(</span><em>compt</em><span class="sig-paren">)</span><a class="headerlink" href="#gssaRDspiny.makeChemModel" title="Permalink to this definition">¶</a></dt>
<dd><p>This function setus up a simple oscillatory chemical system within
the script. The reaction system is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">---</span><span class="n">a</span><span class="o">---&gt;</span> <span class="n">a</span>  <span class="o">//</span> <span class="n">s</span> <span class="n">goes</span> <span class="n">to</span> <span class="n">a</span><span class="p">,</span> <span class="n">catalyzed</span> <span class="n">by</span> <span class="n">a</span><span class="o">.</span>
<span class="n">s</span> <span class="o">---</span><span class="n">a</span><span class="o">---&gt;</span> <span class="n">b</span>  <span class="o">//</span> <span class="n">s</span> <span class="n">goes</span> <span class="n">to</span> <span class="n">b</span><span class="p">,</span> <span class="n">catalyzed</span> <span class="n">by</span> <span class="n">a</span><span class="o">.</span>
<span class="n">a</span> <span class="o">---</span><span class="n">b</span><span class="o">---&gt;</span> <span class="n">s</span>  <span class="o">//</span> <span class="n">a</span> <span class="n">goes</span> <span class="n">to</span> <span class="n">s</span><span class="p">,</span> <span class="n">catalyzed</span> <span class="n">by</span> <span class="n">b</span><span class="o">.</span>
<span class="n">b</span> <span class="o">-------&gt;</span> <span class="n">s</span>  <span class="o">//</span> <span class="n">b</span> <span class="ow">is</span> <span class="n">degraded</span> <span class="n">irreversibly</span> <span class="n">to</span> <span class="n">s</span><span class="o">.</span>
</pre></div>
</div>
<p>in sum, <strong>a</strong> has a positive feedback onto itself and also forms <strong>b</strong>.
<strong>b</strong> has a negative feedback onto <strong>a</strong>.
Finally, the diffusion constant for <strong>a</strong> is 1/10 that of <strong>b</strong>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="gui">
<span id="ckbk-multi-gui"></span><h2><a class="toc-backref" href="#id3">GUI</a><a class="headerlink" href="#gui" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="rdesigneur">
<span id="ckbk-multi-rdes"></span><h2><a class="toc-backref" href="#id4">RDesigneur</a><a class="headerlink" href="#rdesigneur" title="Permalink to this headline">¶</a></h2>
<div class="section" id="building-chemical-electrical-signalling-models-using-rdesigneur">
<h3>Building Chemical-Electrical Signalling Models using Rdesigneur<a class="headerlink" href="#building-chemical-electrical-signalling-models-using-rdesigneur" title="Permalink to this headline">¶</a></h3>
<div class="section" id="building-a-compartment">
<h4>Building a compartment<a class="headerlink" href="#building-a-compartment" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="inserting-spines-and-viewing">
<h4>Inserting Spines and viewing<a class="headerlink" href="#inserting-spines-and-viewing" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="proceeding-with-spines">
<h4>Proceeding with Spines<a class="headerlink" href="#proceeding-with-spines" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="tutorials">
<span id="ckbk-multi-tut"></span><h2><a class="toc-backref" href="#id5">Tutorials</a><a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="advanced-examples">
<span id="ckbk-multi-adv"></span><h2><a class="toc-backref" href="#id6">Advanced Examples</a><a class="headerlink" href="#advanced-examples" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../graphics/index_graphics.html" class="btn btn-neutral float-right" title="Graphics" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="network.html" class="btn btn-neutral" title="Networking" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Upinder S. Bhall, Subhasis Ray, Aditya Gilra, Dilawar Singh, Harsha Rani, Aviral Goel, Malav Shah.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'ChamCham (3.1.1)',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>